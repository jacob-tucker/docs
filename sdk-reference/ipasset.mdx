---
title: IP Asset
description: IPAssetClient allows you to create, get, and list IP Assets within Story.
---

## IPAssetClient

### Methods

* register
* registerDerivative
* registerDerivativeWithLicenseTokens
* mintAndRegisterIpAssetWithPilTerms
* registerIpAndAttachPilTerms
* registerDerivativeIp
* mintAndRegisterIpAndMakeDerivative
* mintAndRegisterIp
* registerPilTermsAndAttach
* mintAndRegisterIpAndMakeDerivativeWithLicenseTokens
* registerIpAndMakeDerivativeWithLicenseTokens

### Navigating Around the IPAssetClient

Because there are a lot of functions to interact with the [Licensing Module](/concepts/licensing-module/overview), we have broken them down into a helpful chart so you can identify what you're looking for, and then find the associated docs.

<table>
  <thead>
    <tr>
      <th>Function</th>
      <th style={{ textAlign: "center" }}>Mint an NFT</th>
      <th style={{ textAlign: "center" }}>Register IPA</th>
      <th style={{ textAlign: "center" }}>Create License Terms</th>
      <th style={{ textAlign: "center" }}>Attach License Terms</th>
      <th style={{ textAlign: "center" }}>Mint License Token</th>
      <th style={{ textAlign: "center" }}>Register as Derivative</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><span style={{color: "#e03130"}}>register</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>mintAndRegisterIp</span></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerIpAndAttachPilTerms</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>mintAndRegisterIpAssetWithPilTerms</span></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerDerivativeIp</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>mintAndRegisterIpAndMakeDerivativeWithLicenseTokens</span></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerIpAndMakeDerivativeWithLicenseTokens</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>mintAndRegisterIpAndMakeDerivative</span></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerDerivative</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerDerivativeWithLicenseTokens</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
    </tr>
    <tr>
      <td><span style={{color: "#e03130"}}>registerPilTermsAndAttach</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#1971c2"}}>registerPILTerms</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#1971c2"}}>attachLicenseTerms</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
    <tr>
      <td><span style={{color: "#1971c2"}}>mintLicenseTokens</span></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}></td>
      <td style={{ textAlign: "center" }}>✓</td>
      <td style={{ textAlign: "center" }}></td>
    </tr>
  </tbody>
</table>

* <span style={{color: "#e03130"}}>Red</span>: IPAssetClient (this page)
* <span style={{color: "#1971c2"}}>Blue</span>: [LicenseClient](/developers/sdk-reference/license)

## register

Registers an NFT as IP, creating a corresponding [IP Asset](/concepts/ip-asset/overview). If the given NFT was already registered, this function will return the existing `ipId`.

<Note>
**NFT Metadata**

Note that this function will also set the underlying NFT's `tokenUri` to whatever is passed under `ipMetadata.nftMetadataURI`.
</Note>

| Method     | Type                                                        |
| ---------- | ----------------------------------------------------------- |
| `register` | `(request: RegisterRequest) => Promise<RegisterIpResponse>` |

Parameters:

* `request.nftContract`: The address of the NFT.
* `request.tokenId`: The token identifier of the NFT.
* `request.ipMetadata`: \[Optional] The desired metadata for the newly minted NFT and newly registered IP.
  * `request.ipMetadata.ipMetadataURI` \[Optional] The URI of the metadata for the IP.
  * `request.ipMetadata.ipMetadataHash` \[Optional] The hash of the metadata for the IP.
  * `request.ipMetadata.nftMetadataURI` \[Optional] The URI of the metadata for the NFT.
  * `request.ipMetadata.nftMetadataHash` \[Optional] The hash of the metadata for the IP NFT.
* `request.deadline`: \[Optional] The deadline for the signature in milliseconds.
* `request.txOptions`: \[Optional] The transaction [options](https://github.com/storyprotocol/sdk/blob/main/packages/core-sdk/src/types/options.ts).

```typescript TypeScript
import { toHex } from 'viem';

const response = await client.ipAsset.register({
  nftContract: "0x041B4F29183317Fd352AE57e331154b73F8a1D73",
  tokenId: "12",
  ipMetadata: {
    ipMetadataURI: 'test-uri',
    ipMetadataHash: toHex('test-metadata-hash', { size: 32 }),
    nftMetadataHash: toHex('test-nft-metadata-hash', { size: 32 }),
    nftMetadataURI: 'test-nft-uri',
  },
  txOptions: { waitForTransaction: true }
});

console.log(`Root IPA created at transaction hash ${response.txHash}, IPA ID: ${response.ipId}`)
```

```python Python
metadata = {
  'ip_metadata_uri': "test-uri",
  'ip_metadata_hash': web3.to_hex(web3.keccak(text="test-ip-metadata-hash")),
  'nft_metadata_uri': "test-uri",
  'nft_metadata_hash': web3.to_hex(web3.keccak(text="test-nft-metadata-hash"))
}

response = story_client.IPAsset.register(
  nft_contract="0x041B4F29183317Fd352AE57e331154b73F8a1D73",
  token_id="12",
  ip_metadata=metadata
)
```

```typescript Request Type
export type RegisterRequest = {
  nftContract: Address;
  tokenId: string | number | bigint;
  deadline?: string | number | bigint;
} & IpMetadataAndTxOptions;
```

```typescript Response Type
export type RegisterIpResponse = {
  txHash?: string;
  encodedTxData?: EncodedTxData;
  ipId?: Address;
};
```

## batchRegister

Batch registers an NFT as IP, creating a corresponding IP record.

| Method          | Type                                                                |
| --------------- | ------------------------------------------------------------------- |
| `batchRegister` | `(request: BatchRegisterRequest) => Promise<BatchRegisterResponse>` |

## registerDerivative

Registers a derivative directly with parent IP's license terms, without needing license tokens, and attaches the license terms of the parent IPs to the derivative IP.

The license terms must be attached to the parent IP before calling this function.

All IPs attached default license terms by default.

The derivative IP owner must be the caller or an authorized operator.

| Method               | Type                                                                          |
| -------------------- | ----------------------------------------------------------------------------- |
| `registerDerivative` | `(request: RegisterDerivativeRequest) => Promise<RegisterDerivativeResponse>` |

Parameters:

* `request.childIpId`: The derivative IP ID.
* `request.parentIpIds`: The parent IP IDs.
* `request.licenseTermsIds`: The IDs of the license terms that the parent IP supports.
* `request.maxMintingFee`: \[Optional] The maximum minting fee that the caller is willing to pay. If set to 0, then there is no no limit. **Default: 0**
* `request.maxRevenueShare`: \[Optional] The maximum revenue share percentage agreed upon between a child and parent when a child is registering as derivative. Must be between 0 and 100. **Default: 100**
* `request.maxRts`: \[Optional] The maximum number of royalty tokens that can be distributed to the external royalty policies. Must be between 0 and 100,000,000. **Default: 100\_000\_000**
* `request.txOptions`: \[Optional] The transaction [options](https://github.com/storyprotocol/sdk/blob/main/packages/core-sdk/src/types/options.ts).

```typescript TypeScript
const response = await client.ipAsset.registerDerivative({
  childIpId: "0xC92EC2f4c86458AFee7DD9EB5d8c57920BfCD0Ba",
  parentIpIds: ["0xC92EC2f4c86458AFee7DD9EB5d8c57920BfCD0Ba"],
  licenseTermsIds: ["5"],
  txOptions: { waitForTransaction: true }
});

console.log(`Derivative IPA linked to parent at transaction hash ${response.txHash}`)
```
